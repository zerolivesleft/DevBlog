---
import { SITE_TITLE } from '../consts';
import HeaderLink from './HeaderLink.astro';
import { Github, Twitter, Menu, X, Terminal } from 'lucide-react';
---

<header class="bg-zinc-950/90 backdrop-blur-sm border-b border-zinc-800 sticky top-0 z-50">
	<nav class="max-w-4xl mx-auto px-4 py-3">
		<div class="flex items-center justify-between">
			<h2 class="text-xl font-bold tracking-tight flex items-center gap-2">
				<Terminal className="w-6 h-6 text-blue-500" />
				<a href="/" class="text-zinc-100 hover:text-blue-400 transition-colors no-underline font-mono">
					{SITE_TITLE}
				</a>
			</h2>
			
			<!-- Mobile Menu Button -->
			<button id="mobile-menu-btn" class="md:hidden text-zinc-400 hover:text-blue-400 focus:outline-none" aria-label="Toggle menu">
				<Menu className="w-6 h-6 block" id="menu-icon-open" />
				<X className="w-6 h-6 hidden" id="menu-icon-close" />
			</button>

			<div class="hidden md:flex gap-6 items-center">
				<HeaderLink href="/">~/home</HeaderLink>
				<HeaderLink href="/blog">~/blog</HeaderLink>
				<HeaderLink href="/about">~/about</HeaderLink>
			</div>

			<div class="hidden md:flex gap-4 items-center border-l border-zinc-800 pl-4">
				<a href="https://m.webtoo.ls/@astro" target="_blank" class="text-zinc-400 hover:text-blue-400 transition-colors" aria-label="Follow Astro on Mastodon">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
						<path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
					</svg>
				</a>
				<a href="https://twitter.com/astrodotbuild" target="_blank" class="text-zinc-400 hover:text-blue-400 transition-colors" aria-label="Follow Astro on Twitter">
					<Twitter size={20} />
				</a>
				<a href="https://github.com/withastro/astro" target="_blank" class="text-zinc-400 hover:text-blue-400 transition-colors" aria-label="Go to Astro's GitHub repo">
					<Github size={20} />
				</a>
			</div>
		</div>

		<!-- Mobile Menu -->
		<div id="mobile-menu" class="hidden md:hidden pt-4 pb-2 border-t border-zinc-800 mt-4 animate-in slide-in-from-top-2">
			<div class="flex flex-col gap-4">
				<HeaderLink href="/" class="text-lg">~/home</HeaderLink>
				<HeaderLink href="/blog" class="text-lg">~/blog</HeaderLink>
				<HeaderLink href="/about" class="text-lg">~/about</HeaderLink>
				
				<div class="flex gap-6 mt-2 pt-4 border-t border-zinc-800 justify-center">
					<a href="https://m.webtoo.ls/@astro" target="_blank" class="text-zinc-400 hover:text-blue-400">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 16 16" fill="currentColor"><path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/></svg>
					</a>
					<a href="https://twitter.com/astrodotbuild" target="_blank" class="text-zinc-400 hover:text-blue-400">
						<Twitter size={24} />
					</a>
					<a href="https://github.com/withastro/astro" target="_blank" class="text-zinc-400 hover:text-blue-400">
						<Github size={24} />
					</a>
				</div>
			</div>
		</div>
	</nav>
</header>

<script>
	const menuBtn = document.getElementById('mobile-menu-btn');
	const mobileMenu = document.getElementById('mobile-menu');
	const openIcon = document.getElementById('menu-icon-open');
	const closeIcon = document.getElementById('menu-icon-close');

	if (menuBtn && mobileMenu && openIcon && closeIcon) {
		menuBtn.addEventListener('click', () => {
			mobileMenu.classList.toggle('hidden');
			openIcon.classList.toggle('hidden');
			closeIcon.classList.toggle('hidden');
		});
	}
</script>
